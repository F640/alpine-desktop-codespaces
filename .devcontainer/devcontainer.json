{
    "name": "Alpine OpenRC",
    "build": {
        "dockerfile": "../alpine-openrc.Dockerfile"
    },
    "features": {
        "./local-features/openrc-custom-scripts": {},
        "./local-features/lxqt-base": {
            "dependsOn": [
                "./local-features/dbus"
            ]
        },
        "./local-features/dbus": {},
        // need lots of hopium to make it work
        // "./local-features/elogind":{},
        // "./local-features/lxqt-base/polkit": {
        //     "dependsOn": [
        //         "./local-features/elogind"
        //     ]
        // },

        "./local-features/lxqt-base/hide-power-opt": {
            "installsAfter": [
                "./local-features/lxqt-base"
            ]
        },
        "./local-features/pipewire": {},
        "./local-features/pavucontrol-qt": {
            "dependsOn": [
                "./local-features/pipewire"
            ]
        },
        "./local-features/websockify": {},
        "./local-features/novnc": {}
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-azuretools.vscode-containers",
                "ms-vscode-remote.remote-containers"
            ]
        }
    },
    "remoteUser": "vscode",
    // might will cause problem with openrc
    "containerUser": "root",
    "overrideCommand": false,
    "runArgs": [
        // increase shm size to make sure some apps run well
        // chromium-based browser and apps needs it
        "--shm-size=2gb",
        // allow some apps like chromium run in default sanboxed mode
        "--cap-add=SYS_ADMIN",
        // allow container to manipulate network interfaces like running vpn client inside
        // WARNING: changing existing interface might will disconnect container completely
        "--cap-add=NET_ADMIN"
    ]
}
